{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A simple radial chart with embedded data.",
  "title":"Beer consumption(2016)",
  "width": "container",
  "height" :500,
  "data": {"url": "HappinessAlcoholConsumption.csv"},
  "transform": [
    {"filter": "rank_country == null ||datum.Country ==rank_country"}
    
  ],
  "params": [
    {
      "name": "rank_country",
      "bind": {
        "input": "select",
        "options": [
          null,
          "Australia",
          "Austria",
          "Belgium",
          "Brazil",
          "Canada",
          "Costa Rica",
          "Denmark",
          "Finland",
          "Germany",
          "Iceland",
          "Ireland",
          "Israel",
          "Luxembourg",
          "Netherlands",
          "New Zealand",
          "Norway",
          "Sweden",
          "Switzerland",
          "United States"
        ],
        "labels": [
          "Show All",
          "Australia",
            "Austria",
            "Belgium",
            "Brazil",
            "Canada",
            "Costa Rica",
            "Denmark",
            "Finland",
            "Germany",
            "Iceland",
            "Ireland",
            "Israel",
            "Luxembourg",
            "Netherlands",
            "New Zealand",
            "Norway",
            "Sweden",
            "Switzerland",
            "United States"
         
        ],
        "name": "Continent Selection: "
      }
     
    }
  ],
  "encoding": {
    "theta": {"field": "Beer_PerCapita", "type": "quantitative", "stack": true},
    "radius": {"field": "Beer_PerCapita", "scale": {"type": "sqrt", "zero": true, "rangeMin": 20}},
    "color": {
      "field": "Country",
      "type": "nominal",
      "legend": {
        "labelFontSize": 16,
        "symbolSize": 200,
        "titleFontSize": 18,
        "titleFont": "Roboto",
        "labelFont": "Roboto",
    
        "titleColor": "#000000",
        "labelColor": "#000000"
      },

      "scale": {"scheme":"dark2"
        
      }
  },"opacity": {
    "condition": {"selection": "legend_filter", "value": 1},
    "value": 0.2
  },





      "tooltip": [
        {"field": "Country", "type": "nominal","title":"Country Name"},
   
        {"field": "Beer_PerCapita", "type": "quantitative", "format": ".2f","title":"Beer_PerCapita"},

        {"field": "HappinessScore", "type": "quantitative", "format": ".2f","title":"Happiness Score"}
        

      
      ]
},
"layer": [
  
{"selection": {
  "legend_filter": {
    "type": "multi",
    "fields": ["Country"],
    "bind": "legend"
  }
},
"mark": {"type": "arc", "innerRadius": 60}
},{
  "mark": {"type": "text",
  "dy":170,"dx":180, 
  "fontStyle": "bold"},
  "encoding": {
    "text": {"field": " Country", "type": "nominal",
     "condition": [
      {
        "test": "datum['Country']== 'Germany'",
        "value": [
          " Germany consumes the most beer per capita."
        ]
      }
    ]
    },
    "color": {
      "value": "Black"

    },
  
  
    "opacity": {
      "condition": {
        "test": "datum.Country == 'Germany'",
        "value": 1
      },
      "value": 0
    }
  }
  }

]
}